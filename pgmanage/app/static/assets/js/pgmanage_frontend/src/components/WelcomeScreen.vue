<template>
<div class="welcome">
    <div class='welcome__container'>
      <div class="welcome__header mt-1 mb-4">
        <p class='mb-0'>Welcome to</p>
        <div class="welcome__logo d-flex mt-3 mb-4">
          <svg
  version="1.1"
  x="0px"
  y="0px"
  width="62"
  height="9"
  viewBox="0 0 62 9"
  fill="none"
  enable-background="new 0 0 72 28"
  xml:space="preserve"
  id="svg14"
  xmlns="http://www.w3.org/2000/svg"
  xmlns:svg="http://www.w3.org/2000/svg"
  xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
  xmlns:cc="http://creativecommons.org/ns#"
  xmlns:dc="http://purl.org/dc/elements/1.1/"><metadata
  id="metadata20"><rdf:RDF><cc:Work
      rdf:about=""><dc:format>image/svg+xml</dc:format><dc:type
        rdf:resource="http://purl.org/dc/dcmitype/StillImage" /></cc:Work></rdf:RDF></metadata><defs
  id="defs18" />
        
        
        
        
        
        
      <g
  id="g837"
  transform="matrix(1.0314759,0,0,1.0314759,-6.3493514,-10.183544)"
  style="stroke-width:0.969485"><path
    d="m 6.1878418,10.500279 v 7.32955 h 2.3035726 v -2.303572 h 0.575894 c 2.1465106,0 3.0679386,-0.952842 3.0679386,-2.512989 0,-1.560146 -0.921428,-2.512989 -3.0679386,-2.512989 z m 2.8794666,1.832388 c 0.575893,0 0.869075,0.2513 0.869075,0.680601 0,0.429303 -0.293182,0.680601 -0.869075,0.680601 h -0.575894 v -1.361202 z"
    id="path914"
    style="fill:#31648c;stroke:none;stroke-width:0.969485;stroke-opacity:1" /><path
    d="m 16.951482,15.316841 h 1.654386 c -0.2513,0.54448 -0.701546,0.890017 -1.549676,0.890017 -1.130849,0 -1.884743,-0.753897 -1.884743,-2.041803 0,-1.287907 0.858604,-1.937096 1.884743,-1.937096 0.701542,0 1.068017,0.408361 1.319318,0.869076 l 2.146511,-0.963314 c -0.732956,-1.015665 -1.800978,-1.842857 -3.465829,-1.842857 -2.450166,0 -4.293024,1.476381 -4.293024,3.874191 0,2.397809 1.73815,3.978899 4.188314,3.978899 2.659578,0 4.104549,-1.99992 3.895131,-4.502438 h -3.895131 z"
    id="path916"
    style="fill:#31648c;stroke:none;stroke-width:0.969485;stroke-opacity:1" /><path
    d="m 23.784725,13.386138 2.222528,3.766824 2.222531,-3.766824 0.511286,4.445062 h 1.273002 l -1.001706,-7.669297 -3.005113,4.956348 -2.994677,-4.956348 -1.001702,7.669297 h 1.272998 z"
    id="path863"
    style="fill:#808080;stroke:none;stroke-width:0.969485;stroke-opacity:1" /><path
    d="m 36.199071,17.8312 h 1.39821 L 34.018279,10.120166 30.449707,17.8312 h 1.387777 l 0.834755,-1.878195 h 2.681644 z m -2.180792,-5.238078 1.001703,2.316441 h -1.992975 z"
    id="path865"
    style="fill:#808080;stroke:none;stroke-width:0.969485;stroke-opacity:1" /><path
    d="m 43.758317,10.527108 v 4.904176 L 38.426331,10.161903 V 17.8312 h 1.210392 v -4.904176 l 5.331987,5.26938 v -7.669296 z"
    id="path867"
    style="fill:#808080;stroke:none;stroke-width:0.969485;stroke-opacity:1" /><path
    d="m 51.565382,17.8312 h 1.398209 L 49.384586,10.120166 45.816018,17.8312 h 1.387776 l 0.834755,-1.878195 h 2.681645 z m -2.180796,-5.238078 1.001706,2.316441 h -1.992975 z"
    id="path869"
    style="fill:#808080;stroke:none;stroke-width:0.969485;stroke-opacity:1" /><path
    d="m 56.961601,15.055645 h 2.232969 c -0.239994,0.980835 -0.980836,1.784285 -2.285137,1.784285 -1.43995,0 -2.535564,-1.06431 -2.535564,-2.660776 0,-1.596466 1.126917,-2.639908 2.535564,-2.639908 1.012138,0 1.732111,0.459115 2.139052,1.147786 l 1.001706,-0.667803 c -0.646934,-1.012138 -1.711246,-1.627768 -3.140758,-1.627768 -2.201662,0 -3.839869,1.554728 -3.839869,3.787693 0,2.232965 1.6069,3.808562 3.818999,3.808562 2.33731,0 3.641611,-1.836458 3.589438,-3.975513 h -3.5164 z"
    id="path871"
    style="fill:#808080;stroke:none;stroke-width:0.969485;stroke-opacity:1" /><path
    d="M 61.740728,10.527108 V 17.8312 h 4.445059 V 16.74602 H 62.951121 V 14.450449 H 65.9771 v -1.064311 h -3.025979 v -1.773851 h 3.234666 v -1.085179 z"
    id="path873"
            style="fill:#808080;stroke:none;stroke-width:0.969485;stroke-opacity:1" /></g></svg>

            <svg
   width="32"
   height="35"
   viewBox="0 0 8.4666664 9.2604161"
   version="1.1"
   id="gears"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs893" />
  <g
     id="layer1">
    <g
       transform="matrix(0.00763326,0,0,0.00763326,-0.31889044,1.4332642)"
       id="g_symbol"
       class="logo_pgmanage"
       style="stroke-width:1.67969">
      <ellipse
         style="fill:#adc9d7;fill-opacity:0.501661;stroke:none;stroke-width:1.67969"
         id="ellipse"
         ry="280.06299"
         rx="550"
         cy="739.81738"
         cx="596.9353" />
      <g
         id="g_gearstack"
         transform="matrix(1,0,0,0.89246526,0,102.34862)"
         style="stroke-width:1.67969">
        <g
           transform="translate(-16.983511,7.2102212)"
           id="gear-0"
           style="stroke:none;stroke-width:1.67969">
          <path
             style="fill:#003856;fill-opacity:1;stroke-width:1.67969"
             id="path870"
             d="m 1061.2758,757.9066 -0.855,-136.7 c 1.035,-2.308 1.246,-5.124 -0.053,-8.514 l -0.054,-8.672 -4.63,1.998 -3.088,-4.071 8.609,-138.127 -212.60903,-19.998 v -127.574 l -130.337,64.535 -154.83,-4.424 -74.097,-69.674 -107.669,5.457 -5.136,106.34 -19.907,9.856 -61.932,4.428 -123.378,33.222 2.949,144.998 c 0,0 -6.756,8.354 0.036,16.406 l 0.295,134.328 c -1.6,2.753 -2.009,5.915 0.021,9.373 l 39.868,52.369 c 0,0 13.043,8.682 28.222,4.992 l 102.154,-16.421 c 0,0 23.666,1.358 42.123,12.592 l 0.829,92.66 c -0.608,4.036 0.804,10.341 13.741,13.634 l 84.392,20.423 c 0,0 19.465,2.665 27.279,-5.274 l 59.021,-58.451 c 0,0 24.044,-8.611 48.542,-6.714 0,0 42.169,3.833 51.62,11.988 l 48.744,47.185 c 0,0 11.941,14.925 35.763,9.806 l 84.455,-20.39 c 0,0 16.194,-4.171 12.426,-15.45 l 1.343,-92.85 c 0.847,-0.367 1.684,-0.734 2.579,-1.1 0,0 25.195,-15.881 65.245,-8.964 39.973,6.922 76.492,11.7 76.492,11.7 0,0 21.06703,4.338 30.41003,-8.109 9.343,-12.475 30.381,-51.232 30.381,-51.232 0,0 1.573,-2.06 0.017,-5.027 z" />
          <path
             style="fill:#316c8b;fill-opacity:1;stroke-width:1.67969"
             id="path872"
             d="m 401.54777,776.3836 84.392,20.423 c 0,0 19.465,2.665 27.279,-5.274 l 59.021,-58.451 c 0,0 24.044,-8.61 48.542,-6.714 0,0 42.169,3.833 51.62,11.988 l 48.744,47.185 c 0,0 11.941,14.925 35.763,9.806 l 84.455,-20.39 c 0,0 17.104,-4.401 12.078,-16.393 l -26.714,-58.561 c 0,0 -10.784,-17.314 30.985,-34.446 0,0 25.195,-15.881 65.245,-8.964 39.973,6.922 76.492,11.7 76.492,11.7 0,0 21.06703,4.338 30.41003,-8.109 9.343,-12.475 30.381,-51.233 30.381,-51.233 0,0 6.796,-8.834 -21.62,-16.287 l -71.16403,-24.101 c 0,0 -21.137,-6.673 -22.925,-25.701 0,0 -7.473,-23.641 7.975,-30.452 l 95.37603,-36.691 c 0,0 18.495,-4.761 12.018,-18.68 l -38.438,-50.666 c 0,0 -15.669,-11.233 -34.76603,-5.644 l -77.517,12.878 c 0,0 -30.931,7.321 -58.663,-10.727 0,0 -32.107,-15.777 -26.362,-31.073 l 24.442,-55.558 c 0,0 8.866,-12.609 -19.402,-18.69 l -79.336,-18.891 c 0,0 -25.775,-3.185 -35.108,7.658 l -43.544,45.118 c 0,0 -8.672,13.986 -43.016,14.93 0,0 -45.967,6.358 -64.085,-11.016 l -50.252,-48.212 c 0,0 -7.547,-11.614 -39.137,-7.374 l -75.198,18.363 c 0,0 -25.863,7.22 -15.667,23.033 l 22.639,50.783 c 0,0 8.209,13.073 -20.745,28.727 0,0 -27.349,20.56 -57.893,15.253 l -87.053,-12.555 c 0,0 -25.698,-5.783 -36.991,9.466 l -29.547,43.609 c 0,0 -13.056,16.139 15.366,25.177 l 82.704,25.278 c 0,0 21.223,12.898 19.845,29.204 0,0 0.52,25.596 -24.917,32.294 l -77.53,27.721 c 0,0 -22.148,8.457 -15.117,20.435 l 39.868,52.369 c 0,0 13.043,8.682 28.222,4.992 l 102.154,-16.421 c 0,0 31.287,1.789 49.97,18.326 0,0 22.036,15.697 21.771,22.488 0,0 -26.063,57.823 -27.53,60.716 -0.003,-0.002 -7.494,12.27 12.48,17.354 z m 25.669,-284.053 c 42.711,-60.742 161.999,-89.812 266.345,-64.966 104.452,24.872 154.397,94.239 111.686,154.981 -42.701,60.728 -161.903,89.857 -266.358,64.984 -104.345,-24.846 -154.375,-94.271 -111.673,-154.999 z" />
        </g>
        <g
           id="gear-1"
           transform="translate(-16.983511,-191.89241)"
           style="stroke-width:1.67969">
          <path
             style="fill:#dd8a00;fill-opacity:1;stroke-width:1.67969"
             id="path870-3"
             d="m 1061.2758,757.9066 -0.855,-136.7 c 1.035,-2.308 1.246,-5.124 -0.053,-8.514 l -0.054,-8.672 -4.63,1.998 -3.088,-4.071 8.609,-138.127 -212.60903,-19.998 v -127.574 l -130.337,64.535 -154.83,-4.424 -74.097,-69.674 -107.669,5.457 -5.136,106.34 -19.907,9.856 -61.932,4.428 -123.378,33.222 2.949,144.998 c 0,0 -6.756,8.354 0.036,16.406 l 0.295,134.328 c -1.6,2.753 -2.009,5.915 0.021,9.373 l 39.868,52.369 c 0,0 13.043,8.682 28.222,4.992 l 102.154,-16.421 c 0,0 23.666,1.358 42.123,12.592 l 0.829,92.66 c -0.608,4.036 0.804,10.341 13.741,13.634 l 84.392,20.423 c 0,0 19.465,2.665 27.279,-5.274 l 59.021,-58.451 c 0,0 24.044,-8.611 48.542,-6.714 0,0 42.169,3.833 51.62,11.988 l 48.744,47.185 c 0,0 11.941,14.925 35.763,9.806 l 84.455,-20.39 c 0,0 16.194,-4.171 12.426,-15.45 l 1.343,-92.85 c 0.847,-0.367 1.684,-0.734 2.579,-1.1 0,0 25.195,-15.881 65.245,-8.964 39.973,6.922 76.492,11.7 76.492,11.7 0,0 21.06703,4.338 30.41003,-8.109 9.343,-12.475 30.381,-51.232 30.381,-51.232 0,0 1.573,-2.06 0.017,-5.027 z" />
          <path
             style="fill:#ffce7d;fill-opacity:1;stroke-width:1.67969"
             id="path872-5"
             d="m 401.54777,776.3836 84.392,20.423 c 0,0 19.465,2.665 27.279,-5.274 l 59.021,-58.451 c 0,0 24.044,-8.61 48.542,-6.714 0,0 42.169,3.833 51.62,11.988 l 48.744,47.185 c 0,0 11.941,14.925 35.763,9.806 l 84.455,-20.39 c 0,0 17.104,-4.401 12.078,-16.393 l -26.714,-58.561 c 0,0 -10.784,-17.314 30.985,-34.446 0,0 25.195,-15.881 65.245,-8.964 39.973,6.922 76.492,11.7 76.492,11.7 0,0 21.06703,4.338 30.41003,-8.109 9.343,-12.475 30.381,-51.233 30.381,-51.233 0,0 6.796,-8.834 -21.62,-16.287 l -71.16403,-24.101 c 0,0 -21.137,-6.673 -22.925,-25.701 0,0 -7.473,-23.641 7.975,-30.452 l 95.37603,-36.691 c 0,0 18.495,-4.761 12.018,-18.68 l -38.438,-50.666 c 0,0 -15.669,-11.233 -34.76603,-5.644 l -77.517,12.878 c 0,0 -30.931,7.321 -58.663,-10.727 0,0 -32.107,-15.777 -26.362,-31.073 l 24.442,-55.558 c 0,0 8.866,-12.609 -19.402,-18.69 l -79.336,-18.891 c 0,0 -25.775,-3.185 -35.108,7.658 l -43.544,45.118 c 0,0 -8.672,13.986 -43.016,14.93 0,0 -45.967,6.358 -64.085,-11.016 l -50.252,-48.212 c 0,0 -7.547,-11.614 -39.137,-7.374 l -75.198,18.363 c 0,0 -25.863,7.22 -15.667,23.033 l 22.639,50.783 c 0,0 8.209,13.073 -20.745,28.727 0,0 -27.349,20.56 -57.893,15.253 l -87.053,-12.555 c 0,0 -25.698,-5.783 -36.991,9.466 l -29.547,43.609 c 0,0 -13.056,16.139 15.366,25.177 l 82.704,25.278 c 0,0 21.223,12.898 19.845,29.204 0,0 0.52,25.596 -24.917,32.294 l -77.53,27.721 c 0,0 -22.148,8.457 -15.117,20.435 l 39.868,52.369 c 0,0 13.043,8.682 28.222,4.992 l 102.154,-16.421 c 0,0 31.287,1.789 49.97,18.326 0,0 22.036,15.697 21.771,22.488 0,0 -26.063,57.823 -27.53,60.716 -0.003,-0.002 -7.494,12.27 12.48,17.354 z m 25.669,-284.053 c 42.711,-60.742 161.999,-89.812 266.345,-64.966 104.452,24.872 154.397,94.239 111.686,154.981 -42.701,60.728 -161.903,89.857 -266.358,64.984 -104.345,-24.846 -154.375,-94.271 -111.673,-154.999 z" />
        </g>
        <g
           id="g855"
           transform="translate(-16.983511,-392.274)"
           style="stroke:none;stroke-width:1.67969">
          <path
             style="fill:#be9569;fill-opacity:1;stroke-width:1.67969"
             id="path870-6"
             d="m 1061.2758,757.9066 -0.855,-136.7 c 1.035,-2.308 1.246,-5.124 -0.053,-8.514 l -0.054,-8.672 -4.63,1.998 -3.088,-4.071 8.609,-138.127 -212.60903,-19.998 v -127.574 l -130.337,64.535 -154.83,-4.424 -74.097,-69.674 -107.669,5.457 -5.136,106.34 -19.907,9.856 -61.932,4.428 -123.378,33.222 2.949,144.998 c 0,0 -6.756,8.354 0.036,16.406 l 0.295,134.328 c -1.6,2.753 -2.009,5.915 0.021,9.373 l 39.868,52.369 c 0,0 13.043,8.682 28.222,4.992 l 102.154,-16.421 c 0,0 23.666,1.358 42.123,12.592 l 0.829,92.66 c -0.608,4.036 0.804,10.341 13.741,13.634 l 84.392,20.423 c 0,0 19.465,2.665 27.279,-5.274 l 59.021,-58.451 c 0,0 24.044,-8.611 48.542,-6.714 0,0 42.169,3.833 51.62,11.988 l 48.744,47.185 c 0,0 11.941,14.925 35.763,9.806 l 84.455,-20.39 c 0,0 16.194,-4.171 12.426,-15.45 l 1.343,-92.85 c 0.847,-0.367 1.684,-0.734 2.579,-1.1 0,0 25.195,-15.881 65.245,-8.964 39.973,6.922 76.492,11.7 76.492,11.7 0,0 21.06703,4.338 30.41003,-8.109 9.343,-12.475 30.381,-51.232 30.381,-51.232 0,0 1.573,-2.06 0.017,-5.027 z" />
          <path
             style="fill:#dec9b2;fill-opacity:1;stroke-width:1.67969"
             id="path872-7"
             d="m 401.54777,776.3836 84.392,20.423 c 0,0 19.465,2.665 27.279,-5.274 l 59.021,-58.451 c 0,0 24.044,-8.61 48.542,-6.714 0,0 42.169,3.833 51.62,11.988 l 48.744,47.185 c 0,0 11.941,14.925 35.763,9.806 l 84.455,-20.39 c 0,0 17.104,-4.401 12.078,-16.393 l -26.714,-58.561 c 0,0 -10.784,-17.314 30.985,-34.446 0,0 25.195,-15.881 65.245,-8.964 39.973,6.922 76.492,11.7 76.492,11.7 0,0 21.06703,4.338 30.41003,-8.109 9.343,-12.475 30.381,-51.233 30.381,-51.233 0,0 6.796,-8.834 -21.62,-16.287 l -71.16403,-24.101 c 0,0 -21.137,-6.673 -22.925,-25.701 0,0 -7.473,-23.641 7.975,-30.452 l 95.37603,-36.691 c 0,0 18.495,-4.761 12.018,-18.68 l -38.438,-50.666 c 0,0 -15.669,-11.233 -34.76603,-5.644 l -77.517,12.878 c 0,0 -30.931,7.321 -58.663,-10.727 0,0 -32.107,-15.777 -26.362,-31.073 l 24.442,-55.558 c 0,0 8.866,-12.609 -19.402,-18.69 l -79.336,-18.891 c 0,0 -25.775,-3.185 -35.108,7.658 l -43.544,45.118 c 0,0 -8.672,13.986 -43.016,14.93 0,0 -45.967,6.358 -64.085,-11.016 l -50.252,-48.212 c 0,0 -7.547,-11.614 -39.137,-7.374 l -75.198,18.363 c 0,0 -25.863,7.22 -15.667,23.033 l 22.639,50.783 c 0,0 8.209,13.073 -20.745,28.727 0,0 -27.349,20.56 -57.893,15.253 l -87.053,-12.555 c 0,0 -25.698,-5.783 -36.991,9.466 l -29.547,43.609 c 0,0 -13.056,16.139 15.366,25.177 l 82.704,25.278 c 0,0 21.223,12.898 19.845,29.204 0,0 0.52,25.596 -24.917,32.294 l -77.53,27.721 c 0,0 -22.148,8.457 -15.117,20.435 l 39.868,52.369 c 0,0 13.043,8.682 28.222,4.992 l 102.154,-16.421 c 0,0 31.287,1.789 49.97,18.326 0,0 22.036,15.697 21.771,22.488 0,0 -26.063,57.823 -27.53,60.716 -0.003,-0.002 -7.494,12.27 12.48,17.354 z m 25.669,-284.053 c 42.711,-60.742 161.999,-89.812 266.345,-64.966 104.452,24.872 154.397,94.239 111.686,154.981 -42.701,60.728 -161.903,89.857 -266.358,64.984 -104.345,-24.846 -154.375,-94.271 -111.673,-154.999 z" />
        </g>
        <g
           id="gear-3"
           transform="translate(-16.983511,-591.24173)"
           style="stroke-width:1.67969">
          <path
             style="fill:#31648c;fill-opacity:1;stroke-width:1.67969"
             id="path870-2"
             d="m 1061.2758,757.9066 -0.855,-136.7 c 1.035,-2.308 1.246,-5.124 -0.053,-8.514 l -0.054,-8.672 -4.63,1.998 -3.088,-4.071 8.609,-138.127 -212.60903,-19.998 v -127.574 l -130.337,64.535 -154.83,-4.424 -74.097,-69.674 -107.669,5.457 -5.136,106.34 -19.907,9.856 -61.932,4.428 -123.378,33.222 2.949,144.998 c 0,0 -6.756,8.354 0.036,16.406 l 0.295,134.328 c -1.6,2.753 -2.009,5.915 0.021,9.373 l 39.868,52.369 c 0,0 13.043,8.682 28.222,4.992 l 102.154,-16.421 c 0,0 23.666,1.358 42.123,12.592 l 0.829,92.66 c -0.608,4.036 0.804,10.341 13.741,13.634 l 84.392,20.423 c 0,0 19.465,2.665 27.279,-5.274 l 59.021,-58.451 c 0,0 24.044,-8.611 48.542,-6.714 0,0 42.169,3.833 51.62,11.988 l 48.744,47.185 c 0,0 11.941,14.925 35.763,9.806 l 84.455,-20.39 c 0,0 16.194,-4.171 12.426,-15.45 l 1.343,-92.85 c 0.847,-0.367 1.684,-0.734 2.579,-1.1 0,0 25.195,-15.881 65.245,-8.964 39.973,6.922 76.492,11.7 76.492,11.7 0,0 21.06703,4.338 30.41003,-8.109 9.343,-12.475 30.381,-51.232 30.381,-51.232 0,0 1.573,-2.06 0.017,-5.027 z" />
          <path
             style="fill:#aecbe2;fill-opacity:1;stroke:none;stroke-width:36.6907"
             id="path872-9"
             d="m 401.54777,776.3836 84.392,20.423 c 0,0 19.465,2.665 27.279,-5.274 l 59.021,-58.451 c 0,0 24.044,-8.61 48.542,-6.714 0,0 42.169,3.833 51.62,11.988 l 48.744,47.185 c 0,0 11.941,14.925 35.763,9.806 l 84.455,-20.39 c 0,0 17.104,-4.401 12.078,-16.393 l -26.714,-58.561 c 0,0 -10.784,-17.314 30.985,-34.446 0,0 25.195,-15.881 65.245,-8.964 39.973,6.922 76.492,11.7 76.492,11.7 0,0 21.06703,4.338 30.41003,-8.109 9.343,-12.475 30.381,-51.233 30.381,-51.233 0,0 6.796,-8.834 -21.62,-16.287 l -71.16403,-24.101 c 0,0 -21.137,-6.673 -22.925,-25.701 0,0 -7.473,-23.641 7.975,-30.452 l 95.37603,-36.691 c 0,0 18.495,-4.761 12.018,-18.68 l -38.438,-50.666 c 0,0 -15.669,-11.233 -34.76603,-5.644 l -77.517,12.878 c 0,0 -30.931,7.321 -58.663,-10.727 0,0 -32.107,-15.777 -26.362,-31.073 l 24.442,-55.558 c 0,0 8.866,-12.609 -19.402,-18.69 l -79.336,-18.891 c 0,0 -25.775,-3.185 -35.108,7.658 l -43.544,45.118 c 0,0 -8.672,13.986 -43.016,14.93 0,0 -45.967,6.358 -64.085,-11.016 l -50.252,-48.212 c 0,0 -7.547,-11.614 -39.137,-7.374 l -75.198,18.363 c 0,0 -25.863,7.22 -15.667,23.033 l 22.639,50.783 c 0,0 8.209,13.073 -20.745,28.727 0,0 -27.349,20.56 -57.893,15.253 l -87.053,-12.555 c 0,0 -25.698,-5.783 -36.991,9.466 l -29.547,43.609 c 0,0 -13.056,16.139 15.366,25.177 l 82.704,25.278 c 0,0 21.223,12.898 19.845,29.204 0,0 0.52,25.596 -24.917,32.294 l -77.53,27.721 c 0,0 -22.148,8.457 -15.117,20.435 l 39.868,52.369 c 0,0 13.043,8.682 28.222,4.992 l 102.154,-16.421 c 0,0 31.287,1.789 49.97,18.326 0,0 22.036,15.697 21.771,22.488 0,0 -26.063,57.823 -27.53,60.716 -0.003,-0.002 -7.494,12.27 12.48,17.354 z m 25.669,-284.053 c 42.711,-60.742 161.999,-89.812 266.345,-64.966 104.452,24.872 154.397,94.239 111.686,154.981 -42.701,60.728 -161.903,89.857 -266.358,64.984 -104.345,-24.846 -154.375,-94.271 -111.673,-154.999 z" />
        </g>
      </g>
    </g>
  </g>
</svg>
        </div>     
      </div>
       
      <div class="welcome__main">
        <div class='row'>
            <div class='col-4 welcome__col'>
              <div class="recent-conections">
                <h2 class="mb-3">Recent Connections</h2>
                <div class="recent-conections__list d-flex flex-column">
                  <div v-for="(connection, idx) in recentConnections" :key="idx" @click="dispatchConnectionSelected(connection)" class="recent-conections__item">
                    <div class="recent-conections__item_wrap d-flex align-items-center m-0">
                        <div class="recent-conections__item_logo mr-3">
                            <div :class="['icon', 'icon-' + connection.technology]"></div>
                        </div>
                        <div class="recent-conections__item_text d-flex flex-column">
                            <p class="recent-conections__item_title">{{ connection.alias }}</p>
                            <span class="recent-conections__item_subtitle muted-text clipped-text">{{connectionSubtitle(connection)}}</span>
                            <span class="muted-text">{{ ago(connection.last_access_date) }}</span>
                        </div>
                    </div>
                  </div>
                  <div class='muted-text' v-if="!recentConnections.length">
                      You don't have any recent connections yet...
                  </div>
                </div>
              </div>
            
            </div>
            <div class='col-4 welcome__col'>
              <div class="hotkeys">
                <div class="mb-3">
                  <h2 class='d-inline-block mr-2 mb-0'>Hotkeys</h2>
                  <a @click="showSettings" href="#" class="links__item">
                      <i class="fas fa-tools" title="Customize"></i>
                  </a>
                </div>
                <div class='hotkeys__list'>
                  <div v-for="(shortcut, idx) in shortcuts" :key="idx" class="mb-1 hotkeys__list_item hotkey">
                      <p class='hotkey__label'>{{shortcutLabel(shortcut)}}</p>
                      <span v-for="(button, idx) in shortcutKeyNames(shortcut)" :key="idx" class='hotkey__button mr-2'>
                        {{button}}
                      </span>
                  </div>
                </div>
              </div>
             
            </div>
            <div class='col-4'>
              <div class="welcome__col links">
                <div class="links__group links__explore d-flex flex-column">
                  <h2 class="mb-3">Explore</h2>
                  <a href='#' @click="showTutorial" class='links__item' title="Get Started">
                    <i class="fa-solid fa-circle-info mr-1"></i>
                    Get Started
                  </a>
                  <a href='https://pgmanage.readthedocs.io' target='_blank' class='links__item' title="Handbook">
                    <i class="fa-solid fa-book-bookmark mr-1"></i>
                    PgManage Handbook
                  </a>
                </div>

                <div class="links__group links__involved d-flex flex-column">
                  <h2 class="mb-3">Get Involved</h2>
                  <a href='https://github.com/commandprompt/pgmanage/discussions/' target='_blank' class='links__item' title="Discuss">
                    <i class="fa-solid fa-comments mr-1"></i>
                    Discuss
                  </a>
                  <a href='https://github.com/commandprompt/pgmanage/issues' target='_blank' class='links__item' title="Report a Bug">
                    <i class="fa-solid fa-bug mr-1"></i>
                    Report a Bug
                  </a>
                </div>
              </div>  
            </div>
        </div>
      </div>
    </div>
</div>
</template>

<script>
import axios from 'axios'
import moment from 'moment'
import { emitter } from '../emitter'
import { connectionsStore } from '../stores/connections.js'
import { showConfigUser } from '../header_actions'
import { startTutorial } from '../tutorial'
import { endLoading } from "../ajax_control";
import { default_shortcuts } from '../shortcuts'

export default {
  name: "WelcomeScreen",
  props: {

  },
  setup(props) {

  },
  computed: {
    recentConnections() {
      return connectionsStore.connections
        .filter(conn => !!conn.last_access_date)
        .sort((a, b) => (moment(a.last_access_date) > moment(b.last_access_date)) ? -1 : 1)
        .slice(0, 5)
    },
    currentOS() {
      if (navigator.userAgent.indexOf("Win") != -1) return "windows"
      if (navigator.userAgent.indexOf("Mac") != -1) return  "macos"
      if (navigator.userAgent.indexOf("X11") != -1) return  "linux"
      if (navigator.userAgent.indexOf("Linux") != -1) return  "linux"
      return "Unknown OS"
    }
  },
  data() {
    return {
        shortcuts: []
    };
  },
  mounted() {
    this.loadShortcuts()
    this.setupEvents()
    endLoading()
  },
  methods: {
    ago(date) {
      return moment(date).fromNow()
    },
    connectionSubtitle(connection) {
      if(connection.conn_string) return connection.conn_string
      if(connection.technology === 'sqlite') return connection.service
      if(connection.technology === 'terminal') return `${connection.tunnel.server}:${connection.tunnel.port}`
      return `${connection.server}:${connection.port}/${connection.service}`
    },
    dispatchConnectionSelected(connection) {
      let event = new CustomEvent('connection:selected', { detail: connection })
      document.dispatchEvent(event)
    },
    loadShortcuts() {
      axios.get('/shortcuts/')
        .then((resp) => {
          this.shortcuts = resp.data.data
          let shortcut_keys = Object.keys(this.shortcuts)
          Object.keys(default_shortcuts).forEach((key) => {
            if(!shortcut_keys.includes(key)) {
              this.shortcuts[key] = Object.assign({}, default_shortcuts[key][this.currentOS])
            }
          })
          // merge missing shortcuts forom default_shortcuts
        })
        .catch((error) => {
          console.log(error)
        })
    },
    shortcutKeyNames(shortcut) {
      let keys = []
      if (shortcut.ctrl_pressed)
        keys.push('Ctrl')
      if (shortcut.shift_pressed)
        keys.push('Shift')
      if (shortcut.alt_pressed)
        keys.push('Alt')
      if (shortcut.meta_pressed)
        keys.push('Meta')
      if (shortcut.shortcut_key)
        keys.push(shortcut.shortcut_key)

      return keys
    },
    shortcutLabel(shortcut) {
      const LABEL_MAP = {
        'shortcut_run_query': 'Run Query',
        'shortcut_run_selection': 'Run Selection',
        'shortcut_cancel_query': 'Cancel Query',
        'shortcut_indent': 'Indent Code',
        'shortcut_new_inner_tab': 'New Tab',
        'shortcut_remove_inner_tab': 'Close Tab',
        'shortcut_left_inner_tab': 'Switch Tab Left',
        'shortcut_right_inner_tab': 'Switch Tab Right',
        'shortcut_autocomplete': 'Autocomplete',
        'shortcut_explain': 'Explain Query',
        'shortcut_explain_analyze': 'Analyze Query'
      };
      return LABEL_MAP[shortcut.shortcut_code] || 'unknown'
    },
    showSettings() {
      showConfigUser()
    },
    showTutorial() {
      startTutorial('getting_started')
    },
    setupEvents() {
      emitter.on('shortcuts_updated', (event) => {
        this.loadShortcuts()
      });
    },
  },
};
</script>